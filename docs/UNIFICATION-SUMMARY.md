# –†–µ–∑—é–º–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥–æ–≤

## ‚úÖ –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

–í—Å–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏ –≥–ª–∞–≥–æ–ª–∞–º–∏ –±—ã–ª–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

## üîÑ –ß—Ç–æ –±—ã–ª–æ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ

### 1. **–°–µ—Ä–≤–∏—Å—ã - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥**

#### –î–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `ClientCardService` –∫–ª–∞—Å—Å —Å `credentials: 'include'`
- **–ì–ª–∞–≥–æ–ª—ã**: –ü—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –æ–±—ã—á–Ω—ã–º–∏ fetch –∑–∞–ø—Ä–æ—Å–∞–º–∏

#### –ü–æ—Å–ª–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `ClientCardService` –∫–ª–∞—Å—Å ‚úÖ
- **–ì–ª–∞–≥–æ–ª—ã**: `ClientVerbService` –∫–ª–∞—Å—Å ‚úÖ
- **–û–±—â–∏–µ —á–µ—Ä—Ç—ã**:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `credentials: 'include'` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ cookies
  - –£—Ç–∏–ª–∏—Ç–∞ `handleApiResponse<T>` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
  - –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 2. **API –æ—Ç–≤–µ—Ç—ã - –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç**

#### –î–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `ApiResponse<T>` —Å `data`, `error`, `message`
- **–ì–ª–∞–≥–æ–ª—ã**: –ü—Ä–æ—Å—Ç–æ–π `{ data: ... }` —Ñ–æ—Ä–º–∞—Ç

#### –ü–æ—Å–ª–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `ApiResponse<T>` ‚úÖ
- **–ì–ª–∞–≥–æ–ª—ã**: `ApiResponse<T>` ‚úÖ
- **–û–±—â–∏–µ —á–µ—Ä—Ç—ã**:
  - –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã `NextResponse.json<ApiResponse<T>>`
  - –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥**

#### –î–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `handleApiResponse` —É—Ç–∏–ª–∏—Ç—ã
- **–ì–ª–∞–≥–æ–ª—ã**: –†—É—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

#### –ü–æ—Å–ª–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `handleApiResponse` —É—Ç–∏–ª–∏—Ç–∞ ‚úÖ
- **–ì–ª–∞–≥–æ–ª—ã**: `handleApiResponse` —É—Ç–∏–ª–∏—Ç–∞ ‚úÖ
- **–û–±—â–∏–µ —á–µ—Ä—Ç—ã**:
  - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  - –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ HTTP

### 4. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥**

#### –î–æ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `getAuthenticatedUser()` –≤ API
- **–ì–ª–∞–≥–æ–ª—ã**: `getAuthenticatedUser()` –≤ API

#### –ü–æ—Å–ª–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- **–ö–∞—Ä—Ç–æ—á–∫–∏**: `getAuthenticatedUser()` ‚úÖ
- **–ì–ª–∞–≥–æ–ª—ã**: `getAuthenticatedUser()` ‚úÖ
- **–û–±—â–∏–µ —á–µ—Ä—Ç—ã**:
  - –ï–¥–∏–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  - –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏

### ‚úÖ **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏–π:**

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∞—Å—Å—ã —Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
2. **API**: –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–æ–≤–µ—Ä–∫—É –≤–ª–∞–¥–µ–ª—å—Ü–∞
4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ï–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
5. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è TypeScript –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –≥–ª–∞–≥–æ–ª–æ–≤:**

1. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getVerbStats()` –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º
2. **Toggle —Å—Ç–∞—Ç—É—Å–∞**: –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `toggleLearnedStatus()` 
3. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –°—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–µ—Ä–≤–∏—Å—ã:
```typescript
// –ö–∞—Ä—Ç–æ—á–∫–∏
ClientCardService.getCards()
ClientCardService.createCard()
ClientCardService.getCardStats()

// –ì–ª–∞–≥–æ–ª—ã  
ClientVerbService.getVerbs()
ClientVerbService.createVerb()
ClientVerbService.getVerbStats()
```

### API –æ—Ç–≤–µ—Ç—ã:
```typescript
// –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –≤—Å–µ—Ö API
{
  data: T,
  message?: string,
  error?: string
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
```typescript
// –ï–¥–∏–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
handleApiResponse<T>(response: Response): Promise<T>
```

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–ü–æ—Å–ª–µ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ**: –ö–∞—Ä—Ç–æ—á–∫–∏ –∏ –≥–ª–∞–≥–æ–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ï–¥–∏–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ —Ç–æ–º—É –∂–µ —à–∞–±–ª–æ–Ω—É

–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! üéâ 